{{ $section_id := .Get "id" }}
{{ $class := .Get "class" }}
{{ $reverse := .Get "reverse" | default "false" }}

{{ $section := index (where .Page.Resources "Params.section_id" $section_id) 0 }}
{{ $section_dir := $section.File.Dir }}
{{ $image_url := path.Join $section_dir $section.Params.image.url | relURL }}

{{ $reverse_class := "" }}
{{ $image_section_class := $section.Params.image.wrapper_class | default "" }}
{{ $content_section_class := "" }}

{{ if eq $reverse "false" }}
    {{ $image_section_class = printf "col-md-push-12 %s" $image_section_class }}
    {{ $content_section_class = "col-md-pull-12" }}
{{ else }}
    {{ $reverse_class = "split-section-reverse" }}
{{ end }}

<section id="{{ $section_id }}" class="split-section row {{ $reverse_class }} {{ $class }}">
    <div class="split-section-image-wrapper col-md-12 padding-0 {{ $image_section_class }}">
        <img class="split-section-image img img-responsive" src="{{ $image_url }}" alt="{{ $section.Params.image.alt }}" />        
    </div>
    <div class="split-section-content-container col-md-12 {{ $content_section_class }}">
        <div class="split-section-content">
            <div class="split-section-title-container">
                <div class="split-section-title-icon-wrapper">
                    <img class="split-section-title-icon" src="/images/home/get-informed.svg" alt="" />
                </div>
                <h2 class="split-section-title big-text">
                    <span class="text-primary">{{ $section.Params.title_parts.primary | upper }}</span>
                    <span class="text-secondary br">{{ $section.Params.title_parts.secondary | upper }}</span>
                </h2>
            </div>
            <div class="split-section-content-body">
                {{ $section.Content }}
            </div>
        </div>
    </div>
</section>